/*!
 * 
 * Copyright 2023 NAVER Corp. All Rights reserved.
 * All rights, including but not limited to, copyrights,
 * and intellectual property rights of this source code are owned by NAVER Corp.
 * 
 * You may not use, reproduce, modify, or distribute this source code
 * without prior written permission from NAVER Corp.
 * 
 */!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e){t.exports=function(){"use strict";const t={};return whale.runtime.onMessage.addListener((function(e,n,i){e.namespace&&Array.isArray(t[e.namespace])&&t[e.namespace].forEach(t=>{t(e.message,n,i)});return!0})),{broadcast:function(t,e){if(!whale.tabs)return new Promise((t,e)=>{e()});const n=[];return whale.tabs.query({},i=>{i.forEach(i=>{n.push(new Promise(n=>{whale.tabs.sendMessage(i.id,{namespace:t,message:e},t=>{whale.runtime.lastError,n(t)})}))})}),Promise.all(n)},listen:function(e,n){t[e]=t[e]||[],t[e].push(n)},send:function(t,e,n,i){return new Promise(r=>{void 0!==n&&n>-1?whale.tabs.sendMessage(n,{namespace:t,message:e},void 0!==i&&i>-1?{frameId:i}:{},t=>{whale.runtime.lastError,r(t)}):whale.runtime.sendMessage({namespace:t,message:e},t=>{whale.runtime.lastError,r(t)})})}}}()},function(t,e,n){"use strict";var i=n(2);const r=["ko","en","ja","zh-CN"];e.a={detect:({image:t,srcLang:e,tarLang:n,isUrl:r})=>new Promise(async(s,a)=>{const o=r?"https://apis.naver.com/whale/papago/ocr/detectFromUrl":"https://apis.naver.com/whale/papago/ocr/detect",l=new FormData;l.append("image",t),l.append("source",e),l.append("target",n);const h=await Object(i.a)(o),c=new XMLHttpRequest;c.open("POST",h),c.onload=function(){try{const t=JSON.parse(this.response);if(!t.renderedImage&&!t.ocrs)throw!1;s(t)}catch(t){a()}},c.onerror=function(){a()},c.send(l)}),extractTexts:t=>{const e=(t=>{if(!Array.isArray(t)||!t.length)return;const e=[];return t.forEach(t=>{if(void 0!==t.text)if(e.length>=1&&((t,e)=>e.LT.y-10<=t.y&&e.LB.y+10>=t.y)(e[e.length-1],t)){const n=e.pop();e.push({x:n.x,y:n.y,width:t.RB.x-n.x,height:t.RB.y-n.y,text:`${n.text} ${t.text}`})}else e.push({x:t.LT.x,y:t.LT.y,width:t.RB.x-t.LT.x,height:t.RB.y-t.LT.y,text:t.text})}),e})(t);return Array.isArray(e)&&e.length?e.map(({text:t})=>t):null},isSupportedLanguage:t=>r.includes(t),getSupportedLanguages:()=>r}},function(t,e,n){"use strict";function i(t){return new Promise((e,n)=>{whale&&whale.utility&&whale.utility.getHmacURL?whale.utility.getHmacURL(t,t=>{e(t)}):n()})}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function d(t,e,n,i){var r,s,a,o;if(h(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"==typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(t))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=p.bind(i);return r.listener=n,i.wrapFn=r,r}function u(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)s(l,this,e);else{var h=l.length,c=m(l,h);for(n=0;n<h;++n)s(c[n],this,e)}return!0},o.prototype.addListener=function(t,e){return d(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return d(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,g(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,g(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,s,a;if(h(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return u(this,t,!0)},o.prototype.rawListeners=function(t){return u(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){"use strict";var i=n(2);const r="https://apis.naver.com/whale/papago/nsmt/translate",s="https://apis.naver.com/whale/papago/n2mt/translate",a=["ko","en","ja","zh-CN","es","fr","de","ru","vi","th","id","it","pt","hi"],o=["ko","en","ja","zh-CN","es","fr","de","ru","vi","th","id","it"],l={sources:a},h=()=>{l.targets||(l.targets={},a.forEach(t=>{["pt","hi"].includes(t)?l.targets[t]=["en"]:l.targets[t]="en"===t?a.filter(e=>e!==t):a.filter(e=>!["pt","hi",t].includes(e))})),l.nmt||(l.nmt={},o.forEach(t=>{l.nmt[t]=o.filter(e=>e!==t)}))},c=()=>(h(),l),d=(t,e)=>(h(),e?l.sources.includes(t)&&l.targets[t].includes(e):l.sources.includes(t));e.a={run:async(t,e,n)=>{if(0===(n||"").trim().length)return n;if(t===e)throw!1;if(!d(t,e))throw!1;const a=await(async(t,e)=>{const{nmt:n}=c(),a=n[t]&&n[t].includes(e);return await Object(i.a)(a?s:r)})(t,e),o=await fetch(a,{method:"post",mode:"cors",body:[`source=${t}`,`target=${e}`,`text=${encodeURIComponent(n)}`].join("&"),headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})});if(!o.ok)throw!1;const l=await o.json();if(!l||!l.message||!l.message.result)throw!1;return l.message.result.translatedText},isSupported:d,getSupportedLanguages:c}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(s).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i=n(12);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){var i=n(13);t.exports="string"==typeof i?i:i.toString()},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="6" height="4"><path fill="#6B7075" fill-rule="evenodd" d="M6 0 3 4 0 0z"></path></svg>'},function(t,e){t.exports='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x=".5" y=".5" width="11" height="11" rx="1.5" stroke="currentColor"></rect><mask id="a" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.00049V2h3v3H9V3.7l-2 2-.7-.7 2-2-1.3.00049ZM5 8.99951V10H2V7h1v1.3l2-2 .7.7-2 2L5 8.99951Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.00049V2h3v3H9V3.7l-2 2-.7-.7 2-2-1.3.00049ZM5 8.99951V10H2V7h1v1.3l2-2 .7.7-2 2L5 8.99951Z" fill="currentColor"></path><path d="M7 2V1L6 .999999V2h1Zm0 1.00049H6v1.00037l1.00038-.00037-.00038-1ZM10 2h1v-.99999L10 1v1Zm0 3v1h1V5h-1ZM9 5H8v1h1V5Zm0-1.3h1V1.28579l-1.70711 1.7071L9 3.7Zm-2 2-.70711.70711L7 7.11421l.70711-.7071L7 5.7ZM6.3 5l-.70711-.70711L4.88579 5l.7071.70711L6.3 5Zm2-2 .70711.70711 1.70799-1.70802L8.29962 2 8.3 3ZM5 10v1h1v-1H5Zm0-1.00049h1V7.99914l-1.00038.00037.00038 1ZM2 10H1v1h1v-1Zm0-3V6H1v1h1Zm1 0h1V6H3v1Zm0 1.3H2v2.4142l1.70711-1.70709L3 8.3Zm2-2 .70711-.70711L5 4.88579l-.70711.7071L5 6.3Zm.7.7.70711.70711L7.11421 7l-.7071-.70711L5.7 7Zm-2 2-.70711-.70711-1.70801 1.70801L3.70038 10 3.7 9ZM6 2v1.00049h2V2H6Zm4-1H7v2h3V1Zm1 4V2H9v3h2ZM9 6h1V4H9v2ZM8 3.7V5h2V3.7H8Zm-.29289 2.70711 2-2-1.41422-1.41422-2 2 1.41422 1.41422Zm-2.11422-.7.7.7 1.41422-1.41422-.7-.7-1.41422 1.41422Zm2-3.41422-2 2 1.41422 1.41422 2-2-1.41422-1.41422Zm-.59251 1.7076L8.30038 4l-.00076-2-1.3.00049.00076 2ZM6 10V8.99951H4V10h2Zm-4 1h3V9H2v2ZM1 7v3h2V7H1Zm2-1H2v2h1V6Zm1 2.3V7H2v1.3h2Zm.29289-2.70711-2 2 1.41422 1.41422 2-2-1.41422-1.41422Zm2.11422.7-.7-.7-1.41422 1.41422.7.7 1.41422-1.41422Zm-2 3.41422 2-2-1.41422-1.41422-2 2 1.41422 1.41422Zm.59251-1.7076L3.69962 8l.00076 2 1.3-.00049-.00076-2Z" fill="currentColor" mask="url(#a)"></path></svg>'},function(t,e){t.exports='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 .5H1.5c-.552285 0-1 .447715-1 1V3M9 .5h1.5c.5523 0 1 .447715 1 1V3M9 11.5h1.5c.5523 0 1-.4477 1-1V9M3 11.5H1.5c-.552285 0-1-.4477-1-1V9" stroke="currentColor"></path><mask id="a" fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 0h2v1H5V0Zm0 11h2v1H5v-1ZM0 5h1v2H0V5Zm12 0h-1v2h1V5Z"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M5 0h2v1H5V0Zm0 11h2v1H5v-1ZM0 5h1v2H0V5Zm12 0h-1v2h1V5Z" fill="currentColor"></path><path d="M7 0h1v-1H7v1ZM5 0v-1H4v1h1Zm2 1v1h1V1H7ZM5 1H4v1h1V1Zm2 10h1v-1H7v1Zm-2 0v-1H4v1h1Zm2 1v1h1v-1H7Zm-2 0H4v1h1v-1ZM1 5h1V4H1v1ZM0 5V4h-1v1h1Zm1 2v1h1V7H1ZM0 7h-1v1h1V7Zm11-2V4h-1v1h1Zm1 0h1V4h-1v1Zm-1 2h-1v1h1V7Zm1 0v1h1V7h-1ZM7-1H5v2h2v-2Zm1 2V0H6v1h2ZM5 2h2V0H5v2ZM4 0v1h2V0H4Zm3 10H5v2h2v-2Zm1 2v-1H6v1h2Zm-3 1h2v-2H5v2Zm-1-2v1h2v-1H4ZM1 4H0v2h1V4Zm1 3V5H0v2h2ZM0 8h1V6H0v2Zm-1-3v2h2V5h-2Zm12 1h1V4h-1v2Zm1 1V5h-2v2h2Zm0-1h-1v2h1V6Zm-1-1v2h2V5h-2Z" fill="currentColor" mask="url(#a)"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"><rect x=".5" y=".5" width="24" height="24" rx="12" ry="12" fill="#303030" fill-opacity=".94" stroke="#292929"></rect><g data-name="qs_btn_search_cancel_normal copy"><path data-name="Rectangle 624 copy" d="m16.51 15.94-.57.57-3.44-3.44-3.44 3.44-.57-.57 3.44-3.44-3.44-3.44.57-.57 3.44 3.44 3.44-3.44.57.57-3.44 3.44z" fill="#fff" fill-rule="evenodd"></path></g></svg>'},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,":host {\n    --controls-height: 54px;\n    --switches-height: 42px;\n    --marginal-top: 11px;\n}\n\n[hidden] {\n    display: none !important;\n}\n\n.popup {\n    position: absolute;\n    top: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 14px;\n    background: #fff;\n    font-size: 14px;\n    z-index: 410;\n    cursor: initial;\n    transform-origin: 50% 100%;\n    -webkit-font-smoothing: antialiased;\n    min-width: 210px;\n    border-radius: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.14);\n}\n\n.popup.e {\n    opacity: 0.01;\n}\n\n.popup::before {\n    content: \"\";\n    position: absolute;\n    top: -14px;\n    left: calc(50% - 5px);\n    border: 7px solid transparent;\n    border-bottom-color: #fff;\n    z-index: 92;\n}\n\n.popup::after {\n    content: \"\";\n    position: absolute;\n    top: -16px;\n    left: calc(50% - 6px);\n    border: 8px solid transparent;\n    border-bottom-color: rgba(0, 0, 0, 0.3);\n    z-index: 91;\n}\n\n.popup.left-edge::before {\n    left: 21px;\n}\n\n.popup.left-edge::after {\n    left: 20px;\n}\n\n.popup.right-edge::before {\n    left: auto;\n    right: 21px;\n}\n\n.popup.right-edge::after {\n    left: auto;\n    right: 20px;\n}\n\n.mode-switch {\n    display: flex;\n    width: 100%;\n    height: var(--switches-height);\n    align-items: center;\n    justify-content: space-around;\n    border-top: 1px solid rgba(0, 0, 0, 0.08);\n    box-sizing: border-box;\n    color: #555;\n    white-space: nowrap;\n}\n\n.mode-switch .switch-wrap {\n    position: relative;\n    display: flex;\n    width: 68px;\n    height: 26px;\n    border: 0;\n    border-radius: 3px;\n    overflow: hidden;\n    box-sizing: border-box;\n}\n\n.mode-switch .switch-wrap::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    z-index: 1;\n    border-radius: 3px;\n    pointer-events: none;\n}\n\n.mode-switch .switch-wrap .btn-switch {\n    position: relative;\n    align-items: center;\n    justify-content: center;\n    color: #363636;\n    background: transparent;\n    height: 100%;\n    flex: 1;\n    border: 0;\n    font-size: 0;\n    cursor: pointer;\n}\n\n.mode-switch .switch-wrap .btn-switch:disabled {\n    opacity: 0.2;\n    pointer-events: none;\n}\n\n.mode-switch .switch-wrap .btn-switch:hover {\n    background: rgba(0, 0, 0, 0.1);\n}\n\n.mode-switch .switch-wrap .btn-switch:active {\n    background: #d4d4d4;\n}\n\n.mode-switch .switch-wrap .btn-switch svg {\n    z-index: 2;\n    pointer-events: none;\n}\n\n.mode-switch .switch-wrap .btn-switch.active {\n    color: #fff;\n    background: #05c3a7;\n}\n\n.mode-switch .switch-wrap .btn-switch.active:hover {\n    background: #06d1b3;\n}\n\n.mode-switch .switch-wrap .btn-switch.active:active {\n    background: #0cac95;\n}\n\n.error {\n    display: flex;\n    padding: 18px 28px;\n    margin: 0;\n    align-items: center;\n    justify-content: center;\n    white-space: nowrap;\n    user-select: none;\n    cursor: default;\n    font-size: 13px;\n    letter-spacing: -1px;\n}\n\n.error:before {\n    content: \"\";\n    width: 14px;\n    height: 14px;\n    background: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H14V14H0z'/%3E%3Ccircle cx='7' cy='7' r='6.5' stroke='%23FF2828'/%3E%3Cpath fill='%23FF2828' d='M7.5 8c.276 0 .5-.224.5-.5v-4c0-.276-.224-.5-.5-.5h-1c-.276 0-.5.224-.5.5v4c0 .276.224.5.5.5h1zM7 11c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1z'/%3E%3C/g%3E%3C/svg%3E%0A\")\n        no-repeat;\n    background-size: cover;\n    margin-right: 6px;\n}\n\n.popup .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 124px;\n    height: 40px;\n    font-size: 0;\n    padding: 0;\n    box-sizing: border-box;\n    --animation-time: 1.4s;\n    --ball-size: 12px;\n    --ball-space: 4px;\n    --ball-color: #00dc9b;\n}\n\n.popup .loading .ball {\n    display: inline-block;\n    width: var(--ball-size);\n    height: var(--ball-size);\n    background: var(--ball-color);\n    border-radius: 50%;\n    margin-right: var(--ball-space);\n    animation: loading-bounce var(--animation-time) infinite ease-in-out both;\n}\n\n.popup .loading .ball:nth-child(1) {\n    animation-delay: -0.32s;\n}\n\n.popup .loading .ball:nth-child(2) {\n    animation-delay: -0.16s;\n}\n\n.popup .loading .ball:nth-child(3) {\n    margin-right: 0;\n}\n\n.popup .result {\n    flex-direction: column;\n    padding: 0;\n    width: 100%;\n}\n\n.popup .result .origin {\n    padding: 15px 43px 15px 20px;\n    font-size: 13px;\n    color: #555;\n}\n\n.popup .result .translated {\n    border-top: 1px solid #eaeaea;\n    padding: 15px 20px;\n    color: #000;\n    white-space: pre-line;\n}\n\n.popup .result .txt-line {\n    display: block;\n    white-space: nowrap;\n}\n\n.popup .result .btn-cancel {\n    position: absolute;\n    background-position: 50%;\n    border: 0;\n    outline: rgba(0, 0, 0, 0);\n    cursor: pointer;\n    background-color: transparent;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H10V10H0z'/%3E%3Cpath stroke='%238F8F8F' d='M1 1L9 9'/%3E%3Cpath stroke='%238F8F8F' d='M1 1L9 9' transform='matrix(-1 0 0 1 10 0)'/%3E%3C/g%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    padding: 0px;\n    top: 10px;\n    right: 10px;\n    width: 10px;\n    height: 10px;\n    background-size: 10px;\n}\n\n/** -- **/\n\n/** close **/\n\n.btn-close {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    width: 25px;\n    height: 25px;\n    margin: 0;\n    padding: 0;\n    outline: rgba(0, 0, 0, 0);\n    z-index: 900;\n}\n\n.btn-close svg {\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n/** -- **/\n\n/** controls **/\n\n.controls-wrapper {\n    position: absolute;\n    top: calc(\n        -1 * calc(var(--controls-height) + var(--switches-height) +\n                    var(--marginal-top))\n    );\n    left: calc(50% - 143px);\n    width: 286px;\n    border-radius: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.14);\n    height: auto;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    user-select: none;\n    cursor: default;\n    background: #fff;\n    font-size: 12px;\n    letter-spacing: -0.3px;\n    color: rgba(95, 95, 95, 0.9);\n    overflow: hidden;\n    z-index: 500;\n}\n\n.controls-wrapper[data-dragging=\"true\"] .controls {\n    pointer-events: none;\n}\n\n.controls-wrapper .controls {\n    display: flex;\n    height: var(--controls-height);\n    justify-content: space-around;\n}\n\n.controls-wrapper .controls .select-wrap {\n    position: relative;\n    display: flex;\n    cursor: pointer;\n    padding: 0;\n    margin: 0;\n    flex: 2;\n    box-sizing: border-box;\n    justify-content: center;\n    align-items: center;\n}\n\n.controls-wrapper .controls .select-spacer {\n    position: relative;\n    display: flex;\n    flex: 1;\n    align-items: center;\n    justify-content: center;\n}\n.controls-wrapper .controls .select-spacer .spacer-btn {\n    width: 28px;\n    height: 28px;\n    background: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'><g fill='none' fill-rule='evenodd'><path d='M0 0H20V20H0z'/><path fill='%23000' d='M1 11.999L5.24 16.999 6 16.349 3.173 13 19 13 19 11.999zM14.76 4L14 4.65 16.826 8 1 8 1 8.999 19 8.999z'/></g></svg>%0A\")\n        no-repeat;\n    background-size: 20px;\n    background-position: center;\n    border: 0px;\n    outline: none;\n    border-radius: 3px;\n    cursor: pointer;\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:active {\n    background-color: rgba(22, 40, 56, 0.12);\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:hover {\n    background-color: rgba(22, 40, 56, 0.08);\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:disabled {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H20V20H0z'/%3E%3Cpath fill='%23000' d='M1 11.999L5.24 16.999 6 16.349 3.173 13 19 13 19 11.999z' opacity='.3'/%3E%3Cpath fill='%23000' d='M14.76 4L14 4.65 16.826 8 1 8 1 8.999 19 8.999z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n    background-color: transparent !important;\n    cursor: auto;\n}\n\n.controls-wrapper .controls .selected {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    pointer-events: none;\n    padding-top: 2px;\n}\n\n.controls-wrapper .controls .selected .flag {\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n}\n\n.controls-wrapper .controls .selected .text {\n    font-size: 13px;\n    font-weight: 400;\n    padding-right: 17px;\n    margin-right: -12px;\n    line-height: 1;\n    color: #303030;\n    padding: 0px;\n    margin-right: 2px;\n}\n\n.controls-wrapper .controls .select {\n    width: 100%;\n    -webkit-appearance: none;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    font-size: 13px;\n    margin: 0;\n    outline: none;\n    padding: 10px 15px;\n    opacity: 0;\n}\n\n/** -- **/\n\n/** animation **/\n\n.appear-scale-ready {\n    opacity: 0;\n    transform: scale3d(0, 0, 1);\n}\n\n.disappear-scale-ready {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n.controls-wrapper .controls .selected .flag.de {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F01515' xlink:href='%23a' /%3E%3Cpath fill='%23262626' d='M0 0h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23FFD133' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.en {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3Crect id='e' width='16' height='16' x='0' y='0' rx='3' /%3E%3Crect id='g' width='16' height='16' x='0' y='0' rx='3' /%3E%3Cpath id='c' d='M8 0h8v16H8z' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cg clip-path='url(%23b)'%3E%3Cpath fill='%23E1244A' d='M0 11h8v2H0zm0-3h8v2H0zm0 6h8v2H0z' /%3E%3Cpath fill='%230A17A7' d='M0 0h8v8H0z' /%3E%3Cpath fill='%23FFF' fill-opacity='.75' d='M5 6v1h1V6H5zM3 6v1h1V6H3zm1-1v1h1V5H4zM2 5v1h1V5H2zm3-1v1h1V4H5zM3 4v1h1V4H3zm1-1v1h1V3H4zM2 3v1h1V3H2zm1-1v1h1V2H3zm2 0v1h1V2H5z' /%3E%3C/g%3E%3CclipPath id='d' fill='%23fff'%3E%3Cuse xlink:href='%23c' /%3E%3C/clipPath%3E%3Cg clip-path='url(%23d)'%3E%3CclipPath id='f' fill='%23fff'%3E%3Cuse xlink:href='%23e' /%3E%3C/clipPath%3E%3Cuse fill='%230A17A7' xlink:href='%23e' /%3E%3Cpath fill='%23E6273E' stroke='%23FFF' stroke-width='.5' d='M11.332 6.75h5.918v2.5h-5.907l6.377 6.223-1.061 1.06-5.409-5.279v4.996h-2.5V-.25h2.5v4.968l5.408-5.364 1.06 1.06-6.386 6.335z' clip-path='url(%23f)' /%3E%3C/g%3E%3CclipPath id='h' fill='%23fff'%3E%3Cuse xlink:href='%23g' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.12' stroke-width='.5' rx='3' /%3E%3Cpath fill='%23FFF' d='M8 0h1v16H8z' clip-path='url(%23h)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.es {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFD133' xlink:href='%23a' /%3E%3Cpath fill='%23DD172C' d='M0 0h16v5H0zm0 11h16v5H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.fr {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%231035BB' d='M0 0h5v16H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23F44653' d='M11 0h5v16h-5z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.hi {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23FFA44A' d='M0 0h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%231A9F0B' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23181A93' d='M8 6a2 2 0 11.001 3.999A2 2 0 018 6zm0 1a1 1 0 100 2 1 1 0 000-2z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.id {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23E12237' d='M0 0h16v8H0z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ja {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' color='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3Ccircle cx='8' cy='8' r='4' fill='%23F44336' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ko {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Cellipse id='c' cx='3.971' cy='4' rx='3.971' ry='4' /%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3Cg clip-path='url(%23b)'%3E%3Cg transform='translate(4 4)'%3E%3CclipPath id='d' fill='%23fff'%3E%3Cuse xlink:href='%23c' /%3E%3C/clipPath%3E%3Cuse fill='%23F44336' xlink:href='%23c' /%3E%3Cpath fill='%230C47B7' d='M0 4.402c1.093 1.032 2.732 1.65 3.824 0 1.093-1.65 3.278-1.65 3.824 0 .547 1.65 0 4.635 0 4.635H0S-1.093 3.37 0 4.402z' clip-path='url(%23d)' /%3E%3C/g%3E%3C/g%3E%3Cpath fill='%23515151' d='M12.488 11.296a.601.601 0 01.816-.217l.253.146.006.003a.6.6 0 01.213.821l-.405.69a.6.6 0 01-.815.217l-.254-.146-.006-.003a.6.6 0 01-.213-.821zm-9.117 0l.405.69a.6.6 0 01-.213.821l-.006.003-.253.146a.6.6 0 01-.816-.217l-.405-.69a.598.598 0 01.213-.82l.006-.004.254-.146a.6.6 0 01.815.217zm10-8l.405.69a.6.6 0 01-.213.821l-.006.003-.253.146a.6.6 0 01-.816-.217l-.405-.69a.598.598 0 01.213-.82l.006-.004.254-.146a.6.6 0 01.815.217zm-10.883 0a.601.601 0 01.816-.217l.253.146.006.003a.6.6 0 01.213.821l-.405.69a.6.6 0 01-.815.217l-.254-.146-.006-.003a.6.6 0 01-.213-.821z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.pt {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FF2936' xlink:href='%23a' /%3E%3Cpath fill='%23128415' d='M-5 11h16V5H-5z' clip-path='url(%23b)' transform='rotate(90 3 8)' /%3E%3Ccircle cx='6' cy='8' r='2.444' stroke='%23FAF94F' stroke-width='.889' clip-path='url(%23b)' /%3E%3Cpath fill='%23FFF' d='M5 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1z' clip-path='url(%23b)' /%3E%3Cpath fill='%23001EFF' d='M6 7c.513 0 .936.383.993.883L7 8a.997.997 0 01-.883.993L6 9V7z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ru {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%230C47B7' d='M0 5h16v6H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23E53B35' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.th {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23F12532' d='M0 0h16v4H0zm0 12h16v4H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23322B6C' d='M0 6h16v4H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.vi {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F1361D' xlink:href='%23a' /%3E%3Cg fill='%23FFDC42' clip-path='url(%23b)'%3E%3Cpath d='M8 10.2l-2.939 1.845.847-3.365-2.663-2.225 3.462-.235L8 3l1.293 3.22 3.462.235-2.663 2.225.847 3.365z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.zh-CN {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F1361D' xlink:href='%23a' /%3E%3Cpath fill='%23FFDC42' d='M6 8.76l-2.351 1.476.677-2.692-2.13-1.78 2.769-.188L6 3l1.035 2.576 2.769.188-2.13 1.78.677 2.692zM10.5 10a.5.5 0 110 1 .5.5 0 010-1zm2-2a.5.5 0 110 1 .5.5 0 010-1zm0-3a.5.5 0 110 1 .5.5 0 010-1zm-2-2a.5.5 0 110 1 .5.5 0 010-1z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.it {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%231DBE49' d='M0 0h5v16H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23F44653' d='M11 0h5v16h-5z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E\");\n}\n\n/** rendered image **/\n\n.whale-ocr-rendered-image {\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 300;\n}\n\n/** -- **/\n\n/** loader **/\n\n.loader-container {\n    z-index: 400;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(0, 0, 0, 0.4);\n}\n\n.loader {\n    position: relative;\n    width: 38px;\n    height: 10px;\n}\n\n.dot {\n    width: 10px;\n    height: 10px;\n    border-radius: 5px;\n    position: absolute;\n    animation-duration: 1.5s;\n    animation-timing-function: ease-in-out;\n    animation-iteration-count: infinite;\n}\n\n.dot.dot1 {\n    background-color: #2196f3;\n}\n.dot.dot2 {\n    background-color: #00bcd4;\n}\n.dot.dot3 {\n    background-color: #03c75a;\n}\n.dot.dot4 {\n    background-color: #2196f3;\n}\n.dot.dot5 {\n    background-color: #00bcd4;\n}\n.dot.dot6 {\n    background-color: #03c75a;\n}\n\n.dot1 {\n    animation-name: dot1;\n}\n.dot2 {\n    animation-name: dot2;\n}\n.dot3 {\n    animation-name: dot3;\n}\n.dot4 {\n    animation-name: dot4;\n}\n.dot5 {\n    animation-name: dot5;\n}\n.dot6 {\n    animation-name: dot6;\n}\n\n/** -- **/\n",""])},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"@keyframes loading-bounce {\n    0%,\n    80%,\n    100% {\n        transform: scale(0);\n    }\n    40% {\n        transform: scale(1);\n    }\n}\n\n@keyframes appear-scale {\n    0% {\n        opacity: 0;\n        transform: scale3d(0, 0, 1);\n    }\n    100% {\n        opacity: 1;\n        transform: scale3d(1, 1, 1);\n    }\n}\n\n@keyframes disappear-scale {\n    0% {\n        opacity: 1;\n        transform: scale3d(1, 1, 1);\n    }\n    100% {\n        opacity: 0;\n        transform: scale3d(0, 0, 1);\n    }\n}\n\n@keyframes dot1 {\n    0% {\n        transform: translateX(26px) scale(1);\n    }\n    30% {\n        transform: translateX(26px) scale(0);\n    }\n    66% {\n        transform: translateX(0px) scale(0);\n    }\n    100% {\n        transform: translateX(0px) scale(0);\n    }\n}\n\n@keyframes dot2 {\n    0% {\n        transform: translateX(13px) scale(1);\n    }\n    33% {\n        transform: translateX(26px) scale(1);\n    }\n    66% {\n        transform: translateX(26px) scale(0);\n    }\n    100% {\n        transform: translateX(26px) scale(0);\n    }\n}\n\n@keyframes dot3 {\n    0% {\n        transform: translateX(0px) scale(1);\n    }\n    33% {\n        transform: translateX(13px) scale(1);\n    }\n    66% {\n        transform: translateX(26px) scale(1);\n    }\n    100% {\n        transform: translateX(26px) scale(0);\n    }\n}\n\n@keyframes dot4 {\n    0% {\n        transform: translateX(0px) scale(0);\n    }\n    3% {\n        transform: translateX(0px) scale(0);\n    }\n    33% {\n        transform: translateX(0px) scale(1);\n    }\n    66% {\n        transform: translateX(13px) scale(1);\n    }\n    100% {\n        transform: translateX(26px) scale(1);\n    }\n}\n@keyframes dot5 {\n    0% {\n        transform: translateX(0px) scale(0);\n    }\n    33% {\n        transform: translateX(0px) scale(0);\n    }\n    36% {\n        transform: translateX(0px) scale(0);\n    }\n    66% {\n        transform: translateX(0px) scale(1);\n    }\n    100% {\n        transform: translateX(13px) scale(1);\n    }\n}\n@keyframes dot6 {\n    0% {\n        transform: translateX(0px) scale(0);\n    }\n    33% {\n        transform: translateX(0px) scale(0);\n    }\n    66% {\n        transform: translateX(0px) scale(0);\n    }\n    69% {\n        transform: translateX(0px) scale(0);\n    }\n    100% {\n        transform: translateX(0px) scale(1);\n    }\n}\n",""])},,,function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),s=n(1);const a=()=>{const t=["script","style","link","iframe","template"].map(t=>`:not(${t})`).join("");return Array.from(document.body.querySelectorAll(t)).reduce((t,e)=>(t||"")+e.textContent,"").trim()};var o=async()=>await r.a.send("language",{url:location.href,charset:document.characterSet,htmlLang:document.documentElement.lang,content:a(),meta:Array.from(document.querySelectorAll("meta[content]")).filter(t=>{const e=t.getAttribute("property")||t.getAttribute("name")||"";return e.includes("title")||e.includes("description")}).reduce((t,e)=>(t||"")+e.getAttribute("content"),"").trim()});const l=async()=>{let t=await o();s.a.isSupportedLanguage(t)||(t="en");let e=whale.i18n.getUILanguage();return e.startsWith("en-")&&(e="en"),t===e&&(e="en"),"en"===t&&"en"===e&&(e="ko"),{srcLang:t,tarLang:e}},h=()=>({lsSrcLang:localStorage.whale_ocr_srcLang,lsTarLang:localStorage.whale_ocr_tarLang});function c(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}var d=n(6),p=n.n(d),g=n(7),u=n.n(g);const f=[],m=t=>v(t.toString()),v=t=>{let e=t;return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/ ([{:}]) /g,"$1"),e=e.replace(/([;,]) /g,"$1"),e=e.replace(/ !/g,"!"),e};m(p.a).split("}").forEach(t=>{(t||"").trim().length&&f.push(`${t}}`)}),m(u.a).split("@keyframes ").forEach(t=>{(t||"").trim().length&&f.push(`@keyframes ${t}`)});var w=f,x=n(3),E=n.n(x);class b extends E.a{constructor(t){super(),this.options=t||{},this.cache={},this.dragging=!1,this.dragData={},this.element={box:t.box,root:t.root},this._offset(t.offset),this._initElement(),this._attachEvent()}_attachEvent(){this.cache.onMouseDown=this.startDrag.bind(this),this.cache.onMouseMove=this.moveDrag.bind(this),this.cache.onMouseUp=this.endDrag.bind(this),this.element.root.addEventListener("mousedown",this.cache.onMouseDown),this.element.root.addEventListener("mouseup",this.cache.onMouseUp)}_initElement(){const{width:t,height:e}=this.options,n=c(`\n         <svg xmlns="http://www.w3.org/2000/svg"\n             id="mask" width="${t}" height="${e}">\n             <mask id="wl-translate-mask">\n                 <rect fill="white" width="100%" height="100%" />\n                 <rect class="selectarea" width="0" height="0" stroke="rgba(0, 0, 0, 0.5)" stroke-width="2" fill="#000" />\n             </mask>\n             <rect mask="url(#wl-translate-mask)" x="0" y="0" width="100%" height="100%" style="fill: #000; opacity: 0.4;" />\n         </svg>`);this.element.mask=n,this.element.dragBox=n.querySelector(".selectarea"),this.element.root.appendChild(this.element.mask)}_destroyElement(){this.element.mask&&(this.element.mask.remove(),this.element.dragBox=void 0)}update(t){const{width:e,height:n,offset:i}=t;this.options.width===e&&this.options.height===n&&this.options.offset.top===i.top&&this.options.offset.left===i.left||(this.options.width=e,this.options.height=n,this.options.offset=i,this._destroyElement(),this._offset(i),this._initElement())}_offset(t){const e="BackCompat"===document.compatMode?document.body:document.scrollingElement||document.documentElement;this.offsetX=t.left-e.scrollLeft,this.offsetY=t.top-e.scrollTop}startDrag(t){this.dragging||t.target.closest('[capture="no"]')||(this.dragging=!0,this.emit("start"),this.reset(),this._offset(this.options.offset),this.dragData.startX=t.clientX,this.dragData.startY=t.clientY,this.element.dragBox.setAttribute("x",t.clientX-this.offsetX),this.element.dragBox.setAttribute("y",t.clientY-this.offsetY),this.element.box.addEventListener("mousemove",this.cache.onMouseMove))}moveDrag(t){const e=t.clientX-this.dragData.startX,n=t.clientY-this.dragData.startY;this.element.dragBox.setAttribute("width",Math.abs(e)),this.element.dragBox.setAttribute("height",Math.abs(n)),e<0&&this.element.dragBox.setAttribute("x",t.clientX-this.offsetX),n<0&&this.element.dragBox.setAttribute("y",t.clientY-this.offsetY),this.dragData.width=e,this.dragData.height=n}endDrag(){if(!this.dragging)return;this.element.box.removeEventListener("mousemove",this.cache.onMouseMove),this.dragging=!1;const t=this.getDragBound();void 0!==this.maxWidth&&Math.abs(this.dragData.width)>this.options.maxWidth||void 0!==this.maxHeight&&Math.abs(this.dragData.height)>this.options.maxHeight?this.emit("error",{type:"big",bound:t}):this.emit("end",t)}getDragBound(){return{x:this.dragData.width>0?this.dragData.startX-this.offsetX:this.dragData.startX-this.offsetX+this.dragData.width,y:this.dragData.height>0?this.dragData.startY-this.offsetY:this.dragData.startY-this.offsetY+this.dragData.height,width:Math.abs(this.dragData.width),height:Math.abs(this.dragData.height)}}reset(){this.dragData.width=0,this.dragData.height=0,this.element.dragBox.setAttribute("x",0),this.element.dragBox.setAttribute("y",0),this.element.dragBox.setAttribute("width",0),this.element.dragBox.setAttribute("height",0)}destroy(){this.element.mask.remove(),this.element.root.removeEventListener("mousedown",this.cache.onMouseDown),this.element.root.removeEventListener("mouseup",this.cache.onMouseUp)}}var y=n(4),C=n(8),L=n.n(C),k=n(9),M=n.n(k),A=n(10),H=n.n(A);const z={OCR:s.a.getSupportedLanguages(),TRANSLATE:y.a.getSupportedLanguages()},F=(t,e)=>t.map(t=>{const n=t.substr(0,2).toUpperCase(),i=e.toUpperCase()===t.toUpperCase()||e.toUpperCase()===n;return`<option value="${t}" ${i?"selected":""}>${whale.i18n.getMessage(`LANG_${n}`)}</option>`}).join(""),P=(t,e)=>{const n=t.querySelector("option:checked"),i=n?n.textContent:"",r=t.value;e.innerHTML=`\n        <span class="flag ${r}"></span>\n        <span class="text">${i}</span>\n        ${L.a}\n    `};var _=t=>{const e=z.OCR,n=z.TRANSLATE.targets[t.srcLang],i=c(`\n        <div capture="no" translate="no" class="controls-wrapper">\n            <div class="controls">\n                <div class="select-wrap">\n                    <div class="selected srcLang"></div>\n                    <select class="select" name="srcLang">\n                        ${F(e,t.srcLang)}\n                    </select>\n                </div>\n                <div class="select-spacer">\n                    <button class="spacer-btn"></button>\n                </div>\n                <div class="select-wrap">\n                    <div class="selected tarLang"></div>\n                    <select class="select" name="tarLang">\n                        ${F(n,t.tarLang)}\n                    </select>\n                </div>\n            </div>\n            <div class="mode-switch">\n                <span class="mode-help">${whale.i18n.getMessage("partial"===t.type?"HELP_TRANSLATE_PARTIALLY":"HELP_TRANSLATE_INSTANTLY")}</span>\n                <div class="switch-wrap">\n                    <button type="button" data-type="partial"\n                        class="btn-switch ${"partial"===t.type&&"active"}"\n                        title="${whale.i18n.getMessage("TRANSLATE_PARTIALLY")}">\n                        ${H.a}\n                    </button>\n                    <button type="button" data-type="instant"\n                        class="btn-switch ${"instant"===t.type&&"active"}"\n                        title="${whale.i18n.getMessage("TRANSLATE_INSTANTLY")}">\n                        ${M.a}\n                    </button>\n                </div>\n            </div>\n            <div class="error" hidden>\n                ${whale.i18n.getMessage("ERR_FAILED")}\n            </div>\n        </div>\n    `),r=i.querySelector('[name="srcLang"]'),s=i.querySelector('[name="tarLang"]'),a=i.querySelector(".selected.srcLang"),o=i.querySelector(".selected.tarLang"),l=i.querySelector(".spacer-btn"),h=i.querySelector(".mode-switch"),d=Array.from(h.querySelectorAll(".btn-switch")),p=h.querySelector(".mode-help"),g=t=>{d.forEach(e=>{e.dataset.type===t?e.classList.add("active"):e.classList.remove("active")}),p.textContent=whale.i18n.getMessage("partial"===t?"HELP_TRANSLATE_PARTIALLY":"HELP_TRANSLATE_INSTANTLY")},u=()=>{const t=r.value,e=s.value,n=z.TRANSLATE.targets[t];s.innerHTML=F(n,e)},f=()=>{v(r.value,s.value),m()},m=()=>{P(r,a),P(s,o),(({value:t})=>{l.disabled=!e.includes(t)})(s),localStorage.whale_ocr_srcLang=r.value,localStorage.whale_ocr_tarLang=s.value},v=(t,e)=>{i.dispatchEvent(new CustomEvent("update",{detail:{srcLang:t,tarLang:e}}))};return r.addEventListener("change",u,!0),r.addEventListener("change",f,!0),s.addEventListener("change",f,!0),l.addEventListener("click",()=>{const[t,e]=[r.value,s.value];r.value=e,u(),s.value=t,v(e,t),m()},!0),h.addEventListener("click",({target:{dataset:{type:t}}})=>{t&&(g(t),i.dispatchEvent(new CustomEvent("change:type",{detail:t})),localStorage.whale_ocr_type=t)},!0),m(),{setTypeDisabled:t=>{const e=d.find(({dataset:{type:e}})=>e===t);e&&(e.disabled=!0)},setRunType:g,element:i}},R=n(11),Z=n.n(R),V=class extends E.a{constructor(){super(),this.element=c(`<button class="btn-close">${Z.a}</button>`),this.element.addEventListener("click",()=>{this.emit("click")})}},T=class extends E.a{constructor(){super(),this.element=c('<div class="loader-container">\n                <div class="loader">\n                    <div class="dot dot1"></div>\n                    <div class="dot dot2"></div>\n                    <div class="dot dot3"></div>\n                    <div class="dot dot4"></div>\n                    <div class="dot dot5"></div>\n                    <div class="dot dot6"></div>\n                </div>\n            </div>')}};function S(t,e){if(!t)return Promise.resolve();const{animation:n,duration:i,fillMode:r="",easing:s="ease-in-out",resolveAt:a=i,transformOrigin:o="center"}=e;return new Promise(e=>{t.addEventListener("animationend",()=>{t.style.animation="",t.style.transformOrigin=""},{once:!0}),t.style.transformOrigin=o,t.style.animation=`${n} ${i}ms ${s} ${r}`,setTimeout(()=>{e(t)},a)})}var D=class extends E.a{constructor(t){super(),this.container=t,this.element=c('<div capture="no" translate="no" class="popup"></div>'),this.isVisible=!1,this.element.addEventListener("click",t=>{t.target.dataset&&"cancel"===t.target.dataset.role&&(t.preventDefault(),t.stopPropagation(),this.emit("cancel"))})}show(t,e,n=!1){this.element.innerHTML=t,this.isVisible?this.position(e,!1):(this.isVisible=!0,this.element.classList.add("e"),this.container.append(this.element),setTimeout(()=>this.position(e,!0),10)),n&&setTimeout(()=>this.emit("cancel"),5e3)}async position(t,e){const n=this.element.getBoundingClientRect(),i={top:t.y+t.height+15,left:t.x-n.width/2+t.width/2};i.left<0?(i.left=0,this.element.classList.add("left-edge")):this.element.classList.remove("left-edge"),i.left+n.width>window.innerWidth-15?(i.left=t.x-n.width+t.width,this.element.classList.add("right-edge")):this.element.classList.remove("right-edge"),this.element.style.cssText=`\n            top: ${i.top}px;\n            left: ${i.left}px;\n        `,this.element.classList.add("appear-scale-ready"),this.element.classList.remove("e"),!1!==e&&await S(this.element,{animation:"appear-scale",easing:"ease-out",duration:100,resolveAt:50}),this.element.classList.remove("appear-scale-ready")}async hide(){this.element.classList.add("disappear-scale-ready"),await S(this.element,{animation:"disappear-scale",easing:"ease-out",duration:100,resolveAt:50}),this.element.classList.remove("disappear-scale-ready"),this.element.remove(),this.isVisible=!1}};const B=async(t,e,n)=>{let i=n&&t.getElementById(n);i&&i.remove(),i=document.createElement("style"),n&&i.setAttribute("id",n),t.appendChild(i);try{await $(()=>i.sheet,{timeout:3e3,interval:10}),e.forEach(t=>i.sheet.insertRule(t))}catch(t){console.debug(t)}return i},$=(t,e={})=>{const n=e.timeout||1e4,i=e.interval||20,r=Date.now();return new Promise((e,s)=>{const a=setInterval(()=>{const i=t();i&&(clearInterval(a),e(i)),Date.now()-r>n&&(clearInterval(a),s())},i)})};class j{constructor(t){this.options=t,this.req={bound:void 0,imageUrl:t.imageUrl||t.image.url,srcLang:t.srcLang,tarLang:t.tarLang,imgElement:t.imgElement},this.requests=[],this.initElement(),this.initPosition(),this.initControl(),this.initBtnClose(),this.initLoader(),this.element.setAttribute("ready","ready"),this.setRunType(localStorage.whale_ocr_type||"instant")}initElement(){this.element=document.createElement("whale-ocr"),this.root=this.element.attachShadow({mode:"closed"}),document.documentElement.appendChild(this.element),B(this.root,w)}initPosition(){const{imgElement:t}=this.req,e=t.getBoundingClientRect();this.updatePosition(e),this.ro=new ResizeObserver(()=>{this.updatePosition(t.getBoundingClientRect())}),this.ro.observe(t)}async updatePosition(t){t.width||t.height||this.hide(),this.req.bound=t;const e=document.documentElement.getBoundingClientRect();this.targetRect=t,this.offset={top:t.top-e.top,left:t.left-e.left},await B(this.root,[`:host {\n                    top: ${this.offset.top}px !important;\n                    left: ${this.offset.left}px !important;\n                    width: ${this.targetRect.width}px !important;\n                    height: ${this.targetRect.height}px !important;\n                }`],"poz"),this.mask&&this.mask.update({width:this.targetRect.width,height:this.targetRect.height,offset:this.offset}),t.width&&t.height&&this.show()}show(){this.clearAutoDestructionTimer(),this.element.hidden=!1}hide(){this.clearAutoDestructionTimer(),this.element.hidden=!0,this.setAutoDestructionTimer()}setAutoDestructionTimer(){this.element.hidden&&(this._autoDestruction=setTimeout(()=>{this.destroy()},6e4))}clearAutoDestructionTimer(){this._autoDestruction&&(clearTimeout(this._autoDestruction),this._autoDestruction=void 0)}initControl(){this.controls=_({type:this.type,srcLang:this.req.srcLang,tarLang:this.req.tarLang});const t=this.controls.element;t.addEventListener("change:type",({detail:t})=>{this.type!==t&&this.setRunType(t)}),t.addEventListener("update",t=>{const{srcLang:e,tarLang:n}=t.detail;this.req.srcLang=e,this.req.tarLang=n,this.detectImage()}),this.root.append(t),setTimeout(()=>{const e=t.getBoundingClientRect(),n=this.element.getBoundingClientRect();e.top<0&&(e.height+n.bottom+10<=window.innerHeight?t.style.top=`${n.height+10}px`:t.style.top=`${10-n.top}px`)},50)}setRunType(t){this.type=t,this.clearPopup(),"instant"===t?(this.removeMask(),this.detectImage()):(this.hideLoading(),this.removeImage(),this.initCapture()),this.controls.setRunType(t)}initBtnClose(){const t=new V;this.root.append(t.element),t.on("click",()=>{this.destroy()})}removeMask(){this.mask&&(this.mask.destroy(),this.mask=void 0)}initCapture(){const t=new b({box:this.element,root:this.root,maxWidth:700,maxHeight:400,width:this.targetRect.width,height:this.targetRect.height,offset:this.offset});t.on("start",()=>{this.clearPopup()}),t.on("end",async t=>{if(t&&(t.width||t.height))try{this.showPartialLoading(t);const{target:e,image:n}=this.options,i={x:e?e.naturalWidth/e.clientWidth:n.scaleX,y:e?e.naturalHeight/e.clientHeight:n.scaleY},s=await r.a.send("ocr.translate",{bound:t,imageUrl:this.req.imageUrl,srcLang:this.req.srcLang,tarLang:this.req.tarLang,scaleX:i.x,scaleY:i.y});if(null===s.texts)throw s;this.showPartialResult(s,t)}catch(e){e.message&&console.debug(e),this.showPartialError(whale.i18n.getMessage("ERR_FAILED"),t,!1)}}),t.on("error",({bound:t})=>{this.showPartialError(whale.i18n.getMessage("ERR_MAX_SIZE",[700,400]),t)}),this.mask=t}showPartialLoading(t){this.setPopup({html:`<div class="loading">${this.loaderHTML}</div>`,bound:t})}showPartialError(t,e,n=!0){this.setPopup({html:`<span class="error">${t}</span>`,bound:e,autoRemove:n})}showPartialResult(t,e){const{texts:n,translated:i}=t,r=c('<div class="result">\n                <button type="button" class="btn-cancel" data-role="cancel"></button>\n                <div class="origin"></div>\n                <div class="translated"></div>\n            </div>'),s=r.querySelector(".origin"),a=r.querySelector(".translated");i&&(a.innerText=i),n.forEach(t=>{const e=c("<span class='txt-line'></span>");e.innerText=t,s.append(e),i||a.append(e)}),this.setPopup({html:r.outerHTML,bound:e})}setPopup({html:t,bound:e,autoRemove:n=!1}){e&&(this.popup||(this.popup=new D(this.root),this.popup.on("cancel",()=>{this.popup.hide(),this.mask&&this.mask.reset()})),this.popup.show(t,e,n))}async clearPopup(){this.popup&&(await this.popup.hide(),this.popup=void 0)}destroy(){this.mask&&this.mask.destroy(),this.element&&this.element.remove(),this.ro&&this.ro.disconnect()}initLoader(){const t=new T;this.loader=t.element,this.loaderHTML=this.loader.querySelector(".loader").outerHTML,this.root.append(t.element)}showLoading(){this.loader.hidden=!1,this.renderedImage&&(this.renderedImage.hidden=!0)}hideLoading(){this.loader.hidden=!0,this.renderedImage&&(this.renderedImage.hidden=!1)}showError(){const{width:t}=this.req.imgElement.getBoundingClientRect();this.setPopup({html:`<span class="error">${whale.i18n.getMessage("ERR_FAILED")}</span>`,bound:{x:0,y:0,width:t,height:0},autoRemove:!0})}removeImage(){this.renderedImage&&(this.root.removeChild(this.renderedImage),this.renderedImage=void 0)}renderImage({src:t}){const{width:e,height:n}=this.req.imgElement.getBoundingClientRect(),i=document.createElement("img");i.src=t,i.classList.add("whale-ocr-rendered-image"),i.style.width=`${e}px`,i.style.height=`${n}px`,i.addEventListener("error",()=>{this.onFailedRenderImage()}),this.root.append(i),this.renderedImage=i}async detectImage(){this.showLoading(),this.removeImage();const t=await r.a.send("ocr.detect",{imageUrl:this.req.imgElement.src,srcLang:this.req.srcLang,tarLang:this.req.tarLang});"instant"===this.type&&(t.failed?this.onFailedRenderImage():this.renderImage({src:t}),this.hideLoading())}onFailedRenderImage(){this.removeImage(),this.setRunType("partial"),this.controls.setTypeDisabled("instant"),this.showError()}}const X=[],I={},O=(t,e,n)=>{let i=!1;const r=document.querySelectorAll("iframe"),s=t=>{const{data:e}=t;if(!e||"frameFind"!==e.action)return;const a=r[t.data.index];a&&(i=!0,window.removeEventListener("message",s,!0),n(a.getBoundingClientRect()))};window.addEventListener("message",s,!0),i||r.forEach((t,e)=>{t.contentWindow.postMessage({action:"frameFind",index:e},"*")})},q=()=>{X.forEach(t=>t.destroy()),X.length=0,window.removeEventListener("resize",q,!0)};var N=()=>{window.addEventListener("contextmenu",t=>{"IMG"===t.target.tagName&&(I.target=t.target)},!0),r.a.listen("ocr.start",async t=>{if(t.srcUrl!==I.target.currentSrc)return;0===X.length&&window.addEventListener("resize",q,!0);const{srcLang:e,tarLang:n}=await l(),{lsSrcLang:i,lsTarLang:r}=h();X.push(new j({target:I.target,imageUrl:t.srcUrl,srcLang:i||e,tarLang:r||n,imgElement:I.target}))}),r.a.listen("bubble",t=>{const{targetRect:e,frameRect:n}=t,i={top:e.top+n.top,left:e.left+n.left,width:e.width,height:e.height},{lsSrcLang:r,lsTarLang:s}=h();X.push(new j({rect:i,image:t.image,srcLang:r||t.srcLang,tarLang:s||t.tarLang,imgElement:I.target}))}),r.a.listen("frameFind",O)};const U={};var Y=()=>{window.addEventListener("contextmenu",t=>{"IMG"===t.target.tagName&&(U.target=t.target)},!0),r.a.listen("ocr.start",async t=>{if(t.srcUrl!==U.target.src)return;const{srcLang:e,tarLang:n}=await l(),{lsSrcLang:i,lsTarLang:s}=h(),a=await(async()=>{if(window.frameElement)return window.frameElement.getBoundingClientRect();const t=e=>{const{data:n}=e;n&&"frameFind"===n.action&&(e.source.postMessage(n,e.origin),window.removeEventListener("message",t,!0))};return window.addEventListener("message",t,!0),await r.a.send("frameRect")})();r.a.send("bubble",{image:{url:t.srcUrl,scaleX:U.target.naturalWidth/U.target.clientWidth,scaleY:U.target.naturalHeight/U.target.clientHeight},targetRect:U.target.getBoundingClientRect(),frameRect:a,srcLang:i||e,tarLang:s||n,imgElement:U.target})})};(async()=>{(t=>window===window.top||(!t||t&&t.height===window.innerHeight))(await(async()=>{const t=await r.a.send("whomi");return t&&t.tab})())?await N():await Y()})()}]);